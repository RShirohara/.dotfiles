- defaults:
    link:
        create: true
        force: true
        glob: true
        relink: true

- clean: ["~"]

- link:
    # git config
    ~/.gitconfig: .gitconfig
    ~/.gitignore_global: .gitignore_global
    # makepkg settings
    ~/.makepkg.conf:
        path: .makepkg.conf
        if: "[ -f \"$(which makepkg)\" ]"
    # nano settings
    ~/.config/nano/nanorc:
        path: .config/nano/nanorc
    # powerlevel10k settings
    ~/.p10k.zsh: .p10k.zsh
    # zsh settings
    ~/.zlogin: submodules/.zprezto/runcoms/zlogin
    ~/.zlogout: submodules/.zprezto/runcoms/zlogout
    ~/.zpreztorc: .zpreztorc
    ~/.zprofile: .zprofile
    ~/.zshenv: submodules/.zprezto/runcoms/zshenv
    ~/.zshrc: .zshrc
    # WSL only
    ~/.local/bin/:
        path: wsl/.local/bin/*
        if: "[ -f /proc/sys/fs/binfmt_misc/WSLInterop ]"
    # termux only
    ~/.config/nano/nanorc:
        path: termux/.config/nano/nanorc
        if: "[ $(uname -o) = 'Android']"
    ~/.dotfiles/submodules/.zprezto/init.zsh:
        path: termux/.zprezto/init.zsh
        if: "[ $(uname -o) = 'Android']"
    ~/.p10k.zsh:
        path: termux/.p10k.zsh
        if: "[ $(uname -o) = 'Android']"

- shell:
    -
        command: if [[ -d ~/.local/bin ]]; then chmod 755 ~/.local/bin/* ;fi
        desctiption: Add execute authority in commands
